package instructions

import "../runtime"
import "../../utils"
import "../../loader/binary"

var INSTRUCTION_MAP = make(map[Instructions]Storker)

type Instructions uint8

type Storker interface {
	Stroke(ctx *runtime.Context) error
	Test() *runtime.Context
}

func (s Instructions) Stroke(ctx *runtime.Context) error {
	utils.Log(1, "%x \n", s)
	ctx = INSTRUCTION_MAP[s].Test()
	ctx.Clazz = binary.GetClass("com/guazi/znkf/call/aftermarket/bg/ApiApplication")
	ctx.PC += 1
	INSTRUCTION_MAP[s].Stroke(ctx)
	ctx.Handle()
	return nil
}

/**
======================================================================================
		操作				||
======================================================================================
						||
						||------------------------------------------------------------
						||
						||------------------------------------------------------------
						||
		格式				||------------------------------------------------------------
						||
						||------------------------------------------------------------
						||
						||------------------------------------------------------------
						||
======================================================================================
		结构				||
======================================================================================
						||		...，
	   操作数栈			||------------------------------------------------------------
						||		...，
======================================================================================
						||
						||
						||
		描述				||
						||
						||
						||
======================================================================================
						||
						||
						||
	   运行时异常			||
						||
						||
						||
======================================================================================
*/
